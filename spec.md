# Booknote 웹 서비스 명세서

## 📋 문서 정보

- **서비스명**: Booknote
- **버전**: 1.0.0
- **작성일**: 2025년 1월
- **서비스 유형**: 개인 독서 관리 플랫폼 (Web Application)
- **아키텍처**: Next.js 기반 Full-Stack Application

---

## 1. 서비스 개요

### 1.1 서비스 소개

**Booknote**는 독서를 체계적으로 관리하고, 독서 경험을 기록하며, 지식을 체계화할 수 있는 개인 독서 관리 시스템입니다. 사용자가 읽고 있는 책을 관리하고, 노트와 인용구를 작성하며, 독서 통계를 확인할 수 있는 통합 플랫폼을 제공합니다.

### 1.2 핵심 가치 제안

- **체계적인 독서 관리**: 개인 서재를 디지털화하여 모든 책을 한 곳에서 관리
- **지식 체계화**: 노트와 인용구를 통해 독서 경험을 구조화된 지식으로 변환
- **독서 습관 형성**: 진행률 추적 및 통계를 통한 독서 습관 개선
- **지식 복습**: 중요 노트의 복습 시스템을 통한 장기 기억 강화

### 1.3 타겟 사용자

- 독서를 즐기는 개인 사용자
- 독서 노트를 체계적으로 관리하고 싶은 사용자
- 독서 습관을 형성하고 싶은 사용자
- 좋아하는 문장을 수집하고 싶은 사용자
- 학습 목적으로 독서를 하는 사용자

---

## 2. 주요 기능

### 2.1 인증 시스템 (Authentication)

- **이메일/비밀번호 로그인**: 전통적인 이메일 기반 인증
- **회원가입**: 신규 사용자 등록
- **JWT 토큰 기반 인증**: Access Token과 Refresh Token을 통한 보안 인증
- **토큰 자동 갱신**: 만료된 토큰 자동 갱신 메커니즘
- **로그아웃**: 세션 종료 및 토큰 무효화

**구현 상태**: ✅ 완료
**미구현 기능**: Google OAuth 로그인, 비밀번호 재설정, 이메일 인증

### 2.2 서재 관리 (Library Management)

- **책 등록**:
  - 외부 API를 통한 책 검색 (네이버 API 연동)
  - 수동 입력을 통한 책 정보 입력
  - 표지 이미지 URL 입력
  - ISBN 자동 생성 (수동 입력 모드)
- **책 목록 조회**: 그리드/리스트 뷰로 책 목록 표시
- **책 상세 정보**: 책의 상세 정보 및 통계 표시
- **책 정보 수정**: 제목, 저자, 카테고리, 설명 등 수정
- **책 삭제**: 서재에서 책 제거
- **진행률 추적**: 현재 페이지/전체 페이지 기반 진행률 계산
- **카테고리 필터링**: 카테고리별 책 필터링
- **검색 기능**: 책 제목 및 저자명으로 검색

**구현 상태**: ✅ 완료

### 2.3 노트 시스템 (Note System)

- **노트 작성**: 
  - 제목, 내용 입력
  - 마크다운 형식 지원
  - 태그 시스템
  - 중요도 표시 (★ 중요)
- **노트 목록 조회**: 책별 노트 목록 표시
- **노트 상세 보기**: 노트 내용 상세 표시
- **노트 삭제**: 노트 제거
- **태그 기반 분류**: 태그를 통한 노트 분류

**구현 상태**: ✅ 완료 (읽기/삭제)
**미구현 기능**: 노트 편집 기능

### 2.4 인용구 관리 (Quote Management)

- **인용구 저장**: 좋아하는 문장 저장
- **페이지 번호 기록**: 인용구가 있는 페이지 번호 기록
- **개인 생각 추가**: 인용구에 대한 메모 작성
- **태그 분류**: 인용구 태그 분류
- **중요도 표시**: 중요 인용구 표시

**구현 상태**: ✅ 완료 (읽기/삭제)
**미구현 기능**: 인용구 편집 기능

### 2.5 대시보드 (Dashboard)

- **통계 카드 표시**: 전체 책 수, 읽는 중인 책, 완독한 책 등
- **최근 읽은 책**: 최근에 읽은 책 목록 표시
- **내 서재**: 사용자의 모든 책 목록
- **빠른 작업 버튼**: 책 추가, 노트 추가 등 빠른 액션

**구현 상태**: ✅ 완료
**참고**: 일부 통계는 Mock 데이터 사용 중

### 2.6 복습 시스템 (Review System)

- **복습 관리 페이지**: 중요 노트들의 복습 일정 관리
- **플래시카드 형태의 복습 UI**: 카드 형태로 노트 복습
- **정답/오답 추적**: 복습 결과 추적
- **세션 통계**: 복습 세션 통계 표시
- **복습 일정 관리**: 다음 복습 날짜 추적

**구현 상태**: ✅ UI 완성
**참고**: 실제 복습 로직은 부분 구현

### 2.7 검색 기능 (Search)

- **통합 검색**: 책, 노트, 인용구 통합 검색
- **외부 책 검색**: 네이버 API를 통한 책 검색
- **검색 결과 표시**: 검색 결과 필터링 및 표시
- **자동완성**: 책 제목 검색 시 자동완성 (debounce 적용)

**구현 상태**: ✅ 완료
**미구현 기능**: 고급 필터링

### 2.8 통계 및 분석 (Statistics)

- **대시보드 통계**: 기본 통계 카드 표시
- **월별 독서량 차트**: Recharts를 통한 시각화 (UI만 구현)
- **카테고리별 분포**: 파이차트를 통한 카테고리 분포 표시
- **독서 목표 달성률**: 목표 대비 달성률 표시

**구현 상태**: ⚠️ UI 완성 (Mock 데이터 사용)
**미구현 기능**: 실제 데이터 연동

---

## 3. 기술 스택 및 아키텍처

### 3.1 프론트엔드 기술 스택

#### 핵심 프레임워크

- **Next.js 15**: React 기반 풀스택 프레임워크 (App Router 사용)
- **React 19**: UI 라이브러리
- **TypeScript**: 타입 안정성을 위한 정적 타입 언어

#### 스타일링

- **Tailwind CSS 4**: 유틸리티 기반 CSS 프레임워크
- **shadcn/ui**: Radix UI 기반 컴포넌트 라이브러리
- **Tailwind Animate**: 애니메이션 유틸리티

#### 상태 관리 및 데이터 페칭

- **SWR**: 데이터 페칭 및 캐싱 라이브러리
- **React Context API**: 전역 상태 관리 (인증, 사이드바 등)

#### 인증

- **NextAuth.js 4**: 인증 라이브러리
- **JWT**: 토큰 기반 인증

#### UI 컴포넌트

- **Radix UI**: 접근성 있는 UI 프리미티브
  - Dialog, Dropdown Menu, Select, Tabs, Tooltip 등
- **Lucide React**: 아이콘 라이브러리

#### 차트 및 시각화

- **Recharts**: React 차트 라이브러리

#### 마크다운

- **react-markdown**: 마크다운 렌더링
- **remark-gfm**: GitHub Flavored Markdown 지원
- **rehype-sanitize**: HTML 안전성 보장

#### 유틸리티

- **Zod**: 스키마 검증
- **class-variance-authority**: 컴포넌트 variant 관리
- **clsx & tailwind-merge**: 클래스명 유틸리티
- **moment**: 날짜 처리

### 3.2 백엔드 기술 스택

#### API 서버

- **Next.js API Routes**: Next.js 내장 API 라우트 (프록시 역할)
- **Node.js**: 런타임 환경

#### 인증 및 보안

- **NextAuth.js**: 인증 미들웨어
- **JWT**: 토큰 기반 인증
- **Middleware**: Next.js 미들웨어를 통한 라우트 보호

#### 외부 API 연동

- **네이버 검색 API**: 책 검색 기능
- **백엔드 API**: 별도 백엔드 서버와 통신 (프록시 패턴)

## 5. 사용자 플로우

1. 사용자 → 회원가입 페이지 접근
2. 이메일, 비밀번호, 이름 입력
3. POST /api/v1/auth/signup 요청
4. 성공 시 JWT 토큰 수신 및 저장
5. 대시보드로 리다이렉트

또는

1. 사용자 → 로그인 페이지 접근
2. 이메일, 비밀번호 입력
3. POST /api/v1/auth/login 요청
4. 성공 시 JWT 토큰 수신 및 저장
5. 대시보드로 리다이렉트이지 (`/book/[bookId]`)

- **책 정보 카드**:
  - 책 표지 (왼쪽)
  - 제목, 저자 (오른쪽 상단)
  - 통계 그리드 (진행률, 노트 수, 현재 페이지, 평점)
  - 진행률 바
  - 액션 버튼 (노트 추가, 인용구 추가, 북마크, 공유)
- **탭 섹션**:
  - 노트 탭: 노트 목록 (제목, 내용, 태그, 날짜)
  - 인용구 탭: 인용구 목록 (내용, 페이지, 중요도)
  - 책 정보 탭: 상세 정보

#### 책 추가 페이지 (`/book/add`)

- **왼쪽**: 책 표지 미리보기 + URL 입력
- **오른쪽**: 책 정보 폼
  - 책 제목 (검색 기능 포함)
  - 저자
  - 카테고리
  - 총 페이지
  - 책 설명
  - 출판사, ISBN, 출판일

#### 복습 관리 페이지 (`/review`)

- **통계 카드**: 전체, 오늘, 밀린, 완료
- **탭 필터**: 전체, 오늘, 밀린 복습, 완료
- **복습 아이템 리스트**: 노트 제목, 책명, 태그, 다음 복습일, 복습 버튼

### 6.2 공통 컴포넌트

#### Header

- 로고 (Booknote)
- 네비게이션 메뉴 (내 서재, 검색, 리마인드, 통계)

#### Bottom Tab Bar (모바일)

- 홈, 검색, 리마인드, 내 서재

#### Dialog

- 성공/실패 메시지 표시
- 확인 다이얼로그 (삭제 확인 등)

---

## 7. 보안 및 인증

### 7.1 인증 메커니즘

- **JWT 토큰**: Access Token과 Refresh Token 사용
- **토큰 저장**: LocalStorage에 저장
- **토큰 갱신**: 만료 시 자동 갱신 (구현 예정)
- **NextAuth.js**: 서버 사이드 세션 관리

### 7.2 보안 조치

- **HTTPS**: 프로덕션 환경에서 HTTPS 강제
- **CORS**: 백엔드 API와의 CORS 설정
- **토큰 검증**: API 요청 시 토큰 검증
- **라우트 보호**: Next.js Middleware를 통한 인증된 라우트 보호

### 7.3 미들웨어pescript

// middleware.ts

- 인증이 필요한 라우트 보호
- 토큰 검증
- 리다이렉트 처리---

## 8. 배포 및 운영

### 8.1 환경 변수

NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-secret-key
NEXT_PUBLIC_API_BASE_URL=http://localhost:9500
BACKEND_URL=http://localhost:9500### 8.2 빌드 및 배포

- **개발 서버**: `npm run dev`
- **프로덕션 빌드**: `npm run build`
- **프로덕션 실행**: `npm start`
- **배포 플랫폼**: Vercel (권장)

### 8.3 성능 최적화

- **이미지 최적화**: Next.js Image 컴포넌트 사용
- **코드 분할**: Next.js 자동 코드 분할
- **캐싱**: SWR을 통한 데이터 캐싱
- **서버 사이드 렌더링**: Next.js SSR 활용

---

## 9. 현재 구현 상태

### 9.1 완료된 기능 ✅

- 인증 시스템 (로그인, 회원가입)
- 서재 관리 (책 추가, 조회, 수정, 삭제)
- 노트 시스템 (작성, 조회, 삭제)
- 인용구 관리 (저장, 조회, 삭제)
- 대시보드 (통계 카드, 최근 책)
- 검색 기능 (외부 API 연동)
- 복습 시스템 UI

### 9.2 부분 구현 ⚠️

- 통계 API (Mock 데이터 사용)
- 복습 로직 (UI만 완성)
- 토큰 갱신 (구현 예정)

### 9.3 미구현 기능 ❌

- Google OAuth 로그인
- 비밀번호 재설정
- 이메일 인증
- 노트/인용구 편집 기능
- 리마인더 시스템
- 모바일 반응형 최적화
- 다크 모드
- 데이터 내보내기/가져오기

---

## 10. 향후 계획

### 10.1 단기 계획 (1-2개월)

- 노트/인용구 편집 기능 구현
- 토큰 갱신 API 완성
- 통계 API 실제 데이터 연동
- 모바일 반응형 최적화
- 에러 처리 개선

### 10.2 중기 계획 (3-6개월)

- Google OAuth 로그인
- 비밀번호 재설정
- 리마인더 시스템
- 다크 모드 지원
- 데이터 내보내기/가져오기

### 10.3 장기 계획 (6개월 이상)

- 모바일 앱 개발
- 소셜 기능 (친구 추가, 독서 공유)
- AI 기반 추천 시스템
- 오프라인 모드
- PWA 지원

---

## 11. 기술적 특징

### 11.1 아키텍처 특징

- **Full-Stack Framework**: Next.js를 통한 통합 개발
- **API Proxy Pattern**: Next.js API Routes를 통한 백엔드 프록시
- **Type Safety**: TypeScript를 통한 타입 안정성
- **Component-Based**: 재사용 가능한 컴포넌트 구조

### 11.2 사용자 경험

- **실시간 검색**: Debounce를 통한 부드러운 검색 경험
- **자동 폼 채우기**: 검색 결과 선택 시 폼 자동 채우기
- **시각적 피드백**: Dialog를 통한 명확한 피드백
- **직관적 네비게이션**: 명확한 정보 구조

### 11.3 개발자 경험

- **타입 안정성**: TypeScript로 런타임 에러 방지
- **컴포넌트 재사용**: shadcn/ui를 통한 일관된 UI
- **문서화**: 상세한 API 및 프로젝트 문서
- **모듈화**: 명확한 폴더 구조

---

## 12. 참고 자료

### 12.1 프로젝트 문서

- `README.md`: 프로젝트 개요 및 시작 가이드
- `docs/PROJECT_PLAN.md`: 프로젝트 기획서
- `docs/API_PLAN.md`: API 개발 계획서
- `docs/BACKEND_API_SPEC.md`: 백엔드 API 명세서
- `docs/CORE_API_SPEC.md`: 핵심 API 명세서

### 12.2 외부 리소스

- Next.js 공식 문서
- NextAuth.js 문서
- shadcn/ui 문서
- Tailwind CSS 문서

---

## 13. 결론

**Booknote**는 개인 독서 관리를 위한 종합적인 웹 플랫폼으로, 사용자가 독서를 체계적으로 관리하고 지식을 체계화할 수 있도록 돕는 서비스입니다. Next.js 기반의 현대적인 기술 스택을 사용하여 개발되었으며, 확장 가능한 아키텍처를 갖추고 있습니다.

현재 핵심 기능들이 대부분 구현되어 있으며, 향후 편집 기능, 통계 데이터 연동, 모바일 최적화 등을 통해 더욱 완성도 높은 서비스로 발전할 예정입니다.

---

**문서 버전**: 1.0.0  
**최종 업데이트**: 2025년 1월  
**작성자**: Development Team

------

## 6. 화면 구성

### 6.1 주요 페이지

#### 대시보드 (/dashboard)

- 최근 읽은 책 섹션: 최근에 읽은 책 3개 카드 표시

- 내 서재 섹션:

- 검색바

- 카테고리 필터 (Segmented Control)

- 책 그리드 (3열 레이아웃)

- 각 책 카드: 표지, 제목, 저자, 진행률, 노트 수

#### 책 상세 페이지 (/book/[bookId])

- 책 정보 카드:

- 책 표지 (왼쪽)

- 제목, 저자 (오른쪽 상단)

- 통계 그리드 (진행률, 노트 수, 현재 페이지, 평점)

- 진행률 바

- 액션 버튼 (노트 추가, 인용구 추가, 북마크, 공유)

- 탭 섹션:

- 노트 탭: 노트 목록 (제목, 내용, 태그, 날짜)

- 인용구 탭: 인용구 목록 (내용, 페이지, 중요도)

- 책 정보 탭: 상세 정보

#### 책 추가 페이지 (/book/add)

- 왼쪽: 책 표지 미리보기 + URL 입력

- 오른쪽: 책 정보 폼

- 책 제목 (검색 기능 포함)

- 저자

- 카테고리

- 총 페이지

- 책 설명

- 출판사, ISBN, 출판일

#### 복습 관리 페이지 (/review)

- 통계 카드: 전체, 오늘, 밀린, 완료

- 탭 필터: 전체, 오늘, 밀린 복습, 완료

- 복습 아이템 리스트: 노트 제목, 책명, 태그, 다음 복습일, 복습 버튼

### 6.2 공통 컴포넌트

#### Header

- 로고 (Booknote)

- 네비게이션 메뉴 (내 서재, 검색, 리마인드, 통계)

#### Bottom Tab Bar (모바일)

- 홈, 검색, 리마인드, 내 서재

#### Dialog

- 성공/실패 메시지 표시

- 확인 다이얼로그 (삭제 확인 등)